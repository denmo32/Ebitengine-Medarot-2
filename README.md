プロジェクトファイル構成

このプロジェクトは、EbitenとEbitenUIを使用して構築されたメダロット風のバトルゲームです。各ファイルは機能ごとに分割されています。
1. ゲームの起動と初期設定 (main.go, config.go)

    main.go:

        役割: プログラムの開始点（エントリーポイント）です。

        主な処理:

            ウィンドウのサイズやタイトルの設定。

            フォントリソースの読み込み。

            CSVデータと設定ファイルを読み込み、Gameオブジェクトを生成。

            ゲームのメインループを開始します。

    config.go:

        役割: ゲームの動作を調整するための設定値を定義します。

        主な処理:

            Config構造体を生成し、ゲームバランス（攻撃力、命中率など）やUI（色、サイズなど）に関する固定値を返します。

2. データ定義と読み込み (types.go, csv_loader.go)

    types.go:

        役割: プロジェクト全体で使用されるデータ構造体（Medarot, Partなど）や、定数（TeamID, GameStateなど）を定義します。

        主な処理:

            ゲームの主要なオブジェクトの型を宣言し、コード全体の型安全性を保証します。

    csv_loader.go:

        役割: dataディレクトリにあるCSVファイル（パーツ、メダル、機体構成）を読み込む機能を提供します。

        主な処理:

            CSVデータを解析し、types.goで定義された構造体のスライスやマップに変換します。

3. ゲームのコアロジック (game.go, medarot_initializer.go, medarot_logic.go)

    game.go:

        役割: EbitenのGameインターフェースを実装する、ゲームの中核ファイルです。

        主な処理:

            ゲームのメインループ（Update）と描画処理（Draw）を管理します。

            プレイヤーの入力やゲームの状態（GameState）に応じて、処理を切り替えます。

            UIの初期化と更新を行います。

    medarot_initializer.go:

        役割: GameData（CSVから読み込んだデータ）を基に、ゲーム内で実際に動作するMedarotオブジェクトを生成（初期化）します。

        主な処理:

            メダロットにメダルとパーツをセットし、戦闘開始前の状態を構築します。

    medarot_logic.go:

        役割: 個々のメダロットの具体的な行動ロジック（Medarot構造体のメソッド）を定義します。

        主な処理:

            ダメージ計算、命中判定、状態変化など、戦闘のメカニクスに関する処理を実装します。

4. UI関連 (ui_*.go ファイル群)

    renderer.go:

        役割: バトルフィールドやメダロットのアイコンなど、UIライブラリ（EbitenUI）の管理外のグラフィック描画を担当します。

        主な処理:

            vectorパッケージを使用して、ゲージの進捗に応じたアイコンの位置を計算し、円や線を描画します。

    ui_info_panels.go:

        役割: 画面上部に表示される各メダロットの情報パネル（パーツのHPなど）のUIを構築・更新します。

    ui_action_modal.go:

        役割: プレイヤーが行動を選択するためのモーダルウィンドウのUIを構築・管理します。

    ui_message_window.go:

        役割: 行動の結果などを表示するメッセージウィンドウのUIを構築・管理します。